@page
@using Core.Models
@using Microsoft.AspNetCore.Identity
@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager
@model FoodHunter.Pages.Home.IndexModel
@{
}
<!DOCTYPE html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Food Store</title>
</head>
@if (SignInManager.IsSignedIn(User))
{
    if (User.IsInRole("owner") || User.IsInRole("admin"))
    {
        <div class="container header-container">
            <a class="btn btn-dark w-100" asp-area="Identity" asp-page="/Admin/Dashboard"><i class="fas fa-cog me-2"></i> Admin Panel</a>
        </div>
    }

}
<body>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <div class="hero-content">
                <h1>Delicious Food Delivered To Your Door</h1>
                <p>Fresh ingredients, authentic recipes, and fast delivery - all in one place</p>
                <div class="hero-btns">
                    <a asp-page="/Index" class="btnh ">Order Now</a>
                    <a asp-page="/Home/Menu" class="btnh btn-home ">View Menu</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Categories Section -->
    <section class="categories">
        <div class="container">
            <h2 class="section-title">Food Categories</h2>
            <div class="categories-grid">
                @if (Model.HompageModel.Categories != null)
                {
                    @foreach (var item in Model.HompageModel.Categories)
                    {
                        <div class="category-card">
                            <a asp-page="HomeCategory" asp-route-categoryId="@item.Id" class="category-icon">
                                    <i class="fas fa-hamburger"></i> 
                                </a>
                            <h3>@item.Name</h3>
                        </div>
                    }
                }       
            </div>
        </div>
    </section>
    @if (Model.HompageModel.Products != null)
    {
        <!-- Featured Products -->
        <section class="featured">
            <div class="container">
                <h2 class="section-title">Popular Items</h2>
                <div class="products-grid">
                    @foreach(var item in Model.HompageModel.Products)
                    {
                        <div class="product-card">
                            <div class="product-badge">Bestseller</div>
                            <div class="product-img">
                                <img src="@item.Image" alt="Cheeseburger">
                            </div>
                            <div class="product-info">
                                <h3>@item.Name</h3>
                                <div class="product-meta">
                                    <span class="price">$@item.Price</span>
                                    <span class="rating">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star-half-alt"></i>
                                        (128)
                                    </span>
                                </div>
                                <a asp-page="ProductDetail" asp-route-id="@item.Id" class="btn btn-primary add-to-cart">
                                    <i class="fas fa-shopping-cart"></i> Add to Cart
                                </a>
                            </div>
                        </div>

                    }
                </div>
            </div>
        </section>
    }
 

    <!-- Special Offer -->
    <section class="special-offer">
        <div class="container">
            <div class="offer-content">
                <h2>Special Offer Today Only!</h2>
                <p>Get 30% off on all orders above $20. Use code <strong>FRESH30</strong> at checkout</p>

                <div class="timer">
                    <div class="timer-box">
                        <span id="hours">12</span>
                        Hours
                    </div>
                    <div class="timer-box">
                        <span id="minutes">45</span>
                        Minutes
                    </div>
                    <div class="timer-box">
                        <span id="seconds">30</span>
                        Seconds
                    </div>
                </div>

                <a href="#" class="btn">Order Now</a>
            </div>
        </div>
    </section>

    <!-- Testimonials -->
    <section class="testimonials">
        <div class="container">
            <h2 class="section-title">What Our Customers Say</h2>
            <div class="testimonials-grid">
                <div class="testimonial-card">
                    <div class="testimonial-text">
                        "The food was absolutely delicious! Fresh ingredients and fast delivery. I'll definitely be ordering again."
                    </div>
                    <div class="testimonial-author">
                        <div class="author-img">
                            <img src="https://randomuser.me/api/portraits/women/32.jpg" alt="Sarah J.">
                        </div>
                        <div class="author-info">
                            <h4>Sarah J.</h4>
                            <p>Regular Customer</p>
                        </div>
                    </div>
                </div>

                <div class="testimonial-card">
                    <div class="testimonial-text">
                        "Best burgers in town! The quality is consistently excellent and the service is always friendly."
                    </div>
                    <div class="testimonial-author">
                        <div class="author-img">
                            <img src="https://randomuser.me/api/portraits/men/45.jpg" alt="Michael T.">
                        </div>
                        <div class="author-info">
                            <h4>Michael T.</h4>
                            <p>Food Enthusiast</p>
                        </div>
                    </div>
                </div>

                <div class="testimonial-card">
                    <div class="testimonial-text">
                        "I love how they have healthy options too. The vegetarian meals are just as tasty as the regular ones!"
                    </div>
                    <div class="testimonial-author">
                        <div class="author-img">
                            <img src="https://randomuser.me/api/portraits/women/68.jpg" alt="Lisa M.">
                        </div>
                        <div class="author-info">
                            <h4>Lisa M.</h4>
                            <p>Health Conscious</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>



    <script>
        // Mobile Menu Toggle
        document.getElementById('mobile-menu-btn').addEventListener('click', function () {
            document.getElementById('main-nav').classList.toggle('active');
        });

        // Countdown Timer
        function updateTimer() {
            let now = new Date();
            let endOfDay = new Date();
            endOfDay.setHours(23, 59, 59, 999);

            let diff = endOfDay - now;

            let hours = Math.floor(diff / (1000 * 60 * 60));
            let minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            let seconds = Math.floor((diff % (1000 * 60)) / 1000);

            document.getElementById('hours').textContent = hours.toString().padStart(2, '0');
            document.getElementById('minutes').textContent = minutes.toString().padStart(2, '0');
            document.getElementById('seconds').textContent = seconds.toString().padStart(2, '0');
        }

        setInterval(updateTimer, 1000);
        updateTimer();

        // Add to Cart Animation
        const addToCartButtons = document.querySelectorAll('.add-to-cart');
        addToCartButtons.forEach(button => {
            button.addEventListener('click', function () {
                const cartCount = document.querySelector('.cart-count');
                let count = parseInt(cartCount.textContent);
                cartCount.textContent = count + 1;

                // Animation
                this.innerHTML = '<i class="fas fa-check"></i> Added!';
                setTimeout(() => {
                    this.innerHTML = '<i class="fas fa-shopping-cart"></i> Add to Cart';
                }, 1500);
            });
        });
    </script>
</body>
